@* @model bkfc.Models.Vendor *@
@model List<bkfc.Models.Food>

@{
    var vendor = (bkfc.Models.Vendor)ViewData["vendor"];
}

@{
    ViewData["Title"] = @vendor.Name;
    ViewData["css"] = "profile.css";
}
<div class="jumbotron jumbotron-fluid d-flex">
    <img src=@vendor.Logo alt="vendorLogo" style="width: 100px; height: 100px; object-fit: cover;" class="rounded mx-4"/>
    <div class="container">
        <h2> <i class="fas fa-store"></i> @vendor.Name  </h2>
        <p class="lead">@vendor.Categories</p>
        <p>Quán này là quán ngon nhất tháng</p>
    </div>
</div>

@foreach (var foodModel in Model)
{
    <div class="container px-0 my-4 d-flex">
        <img style="width: 120px; height: 140px; object-fit: cover;" src=@foodModel.Image alt="kfc1" class="rounded">
        <div class="pl-3 d-flex flex-column justify-content-between" style="width: 100%;">
            <div>
                <h5>@foodModel.Name</h5>
                <p>@foodModel.Description</p>
            </div>
            <div class="d-flex justify-content-end text-center">
                <div class="font-weight-bold font-italic my-auto mr-2">@foodModel.Price VND</div>
                @if( foodModel.Amount >0)
                {
                    var vendorId = vendor.Id;
                    var foodId = foodModel.Id;
                    <button type="submit"class="btn btn-primary" onClick="addToCart(@foodId,@vendorId)">Add to cart</button>
                    
                }
                
                
            </div>
        </div>
    </div>
}


<div class = "change-page">
    <a asp-action="Edit" asp-route-id="@vendor.Id">Edit</a> |
    <a asp-action="Delete" asp-route-id="@vendor.Id">Delete</a> |
    <a asp-action="Index">Back to List</a>
</div>


@section Scripts{
    <script type="text/javascript">
        function addToCart(foodId,vendorId)
        {
            $.post('@Url.Action("AddToCart","Foodcourt")',{foodId:foodId,vendorId:vendorId });
        }
    </script>
}